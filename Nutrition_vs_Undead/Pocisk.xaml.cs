using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows;
using System.Windows.Controls;
using System.Windows.Data;
using System.Windows.Documents;
using System.Windows.Input;
using System.Windows.Media;
using System.Windows.Media.Imaging;
using System.Windows.Navigation;
using System.Windows.Shapes;
using System.Windows.Threading;

namespace Nutrition_vs_Undead
{
	/// <summary>
	/// Logika interakcji dla klasy Pocisk.xaml
	/// </summary>
	public partial class Pocisk : UserControl
	{
		private bool Istnieje = true;

		public DispatcherTimer TimerRuchu = new();

		public Pocisk()
		{
			InitializeComponent();

			TimerRuchu.Interval = TimeSpan.FromSeconds(0.25);
			TimerRuchu.Tick += TimerRuchu_Tick;

			TimerRuchu.Start();
		}
		public Pocisk(int id)
		{
			InitializeComponent();

			TimerRuchu.Interval = TimeSpan.FromSeconds(0.25);
			TimerRuchu.Tick += TimerRuchu_Tick;

			TimerRuchu.Start();

			//MainWindow.PozycjePociskow[IndeksKolumny] = Grid.GetColumn(this);
			//MainWindow.PozycjePociskow[IndeksWiersza] = Grid.GetRow(this);
		}

		private void TimerRuchu_Tick(object? sender, EventArgs e)
		{
			if (Grid.GetColumn(this) < 8)
			{
				Grid.SetColumn(this, Grid.GetColumn(this) + 1);
				//MainWindow.PozycjePociskow.Add(Grid.GetColumn(this));
				//MainWindow.PozycjePociskow.Add(Grid.GetRow(this));
			} else {
				Kys();
				TimerRuchu.Stop();
			}
		}
		private void Kys()
		{
			if (Parent != null)
			{
				((Grid)Parent).Children.Remove(this);
				Istnieje = false;
			}
		}
	}
}




//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#%@@@@@@@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#%@@@@@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%@@@@@%@#@@@@%#+@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%.:@@@@@@@@%#%@@@@@=*-%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@:..-@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@%#%%###%%@@@@@@@@@%@@@@@@@%####%%@@@@@%%%%@@@@%%###%@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@%##%%%%%#*#%@@@@@%@@@@@@@@@@@@@@%%%%%%%%%%%@@@%##%%#**%%%@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@%#%@@@@@@@@##%@@%%%%%%%###*######%%%##%%%%%@@@%#%@@@@@%%*##@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@#@@@%%%%%%%@#@@@@%%%############*##########%@%#@%%%@@@@@@%#%@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@#*@@%%%####%@@@@%%%%%%%%##*+*##*******#***##@%%%%%%%%@@@@@*%@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@#*@@%%###%@@@@%%%%%%%%%###***************##@@#@%##%%%@@@%#%@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@#**%@%%%@@@@@%%%%%%%%%%###****************%@@*@%%%%@@@%#%@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@%##%%#@@@@@@@@@@@@@%%%%#*#@@@@@@@#*++***#@@@#@@@@%###%@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%#####%@@@@@@@@#****++*##%@@%#%#%@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%@@@@#######*#%@%%#********+**#%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%@@@@@@@@###*#@@@@@@@@*********##%#%%@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%#@@@::@@@%%###@+.=@##@@*******###%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%#@@@@:*@@%%%%#@@:...=@@#**++*##*###%%%%@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%#@@@@@@@@@@@@@@@@@@@@%*********####%%%@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%#******+****##%%%%@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%###@@@@@@@@@#@@####*######*******##%%%%@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%##*###@@@@@@@%****+**+*+***#****###%@@%@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%@###****+=##**++++++*++#+++*#%####%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%##******++#*++++==+==+==++++*%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%###*****++%#**+++=+++=+++++*#%@@%#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%####****#****+++++*+****##%@@%##@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%####*################%@@@%#*#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%@@@@@@@@@@@@@@@@@@@%#*@+:*@@%##*#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%@@@@@@%%%%% *++=:.=@%:..#..:@@%%#*****#%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@@@@%%%%@@@@@@@@@@@%%#%%%%%####@@@%%%####*+*######%%%######%%%@@@@@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@%%%%%@@@@@@@@@@@@@@%%%####***#%##**#**#***####%%@%%##****##@@##%%@@@@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@%@@%%%%#@@@@@@@@@@@@@@@%%%####%%#######%%%%%%%%@@%%#**+*%@@@%%%%%%%%%@@@@@@@@@@@@@@
//@@@@@@@@@@@@@@@@@@%%%##*###%@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%##%@%###@@@@@@@%%%%%%%###%@@@@@@@@@@@@
//@@@@@@@@@@@@@@@%%%%%####%##%@@@@@@@@@@@@@@@@@@@@@@@@@@%@@%#######@%%@@@@@@%%%%#%%%####%%%%@@@@@@@@@@
//@@@@@@@@@@@@@-...:-#%####@@@@@@@@@@@@@@@@%@@@@@@@@@@@@@%#########@@@@@@@@@%%%####*##**###%%@@@@@@@@@
//@@@@@@@@@@@@@@@#+=+*%%#@@@@@@@@@@@@@@@@@@%%#%%@@@@@@@@%####*****#@@@@@@@@@%%%%######*#****#%@@@@@@@@
//@@@@@@@@%%:@@@*:  .. =% -@@@@@@@@@@@@@@@%%%######@@@@@@*%*********#@@@@@@@@@@%%%####*********#%@@@@@
//@@@@@%%####*@@*:....+@%@@@@@@@@@@%%%%%%#####*****#%%#**#******###@@@@@@@@@@%##%###****#***#*##@@@@@@
//@@@%%%%%%#%%%@@@@@@@@@@@@@@@@@@@@%%%%######*#******************##%@@@@@@@@@@%#%%##*********###%@@@@@
//@@%%%%%%%%##%@@@@@@@@@@@@@@@@@@@%%%%#####*##****+++**+++********###@@@@@@@@@@%%%##***#*+***####@@@@@
//@@@%%@@@@@#%#@@@%#%@@@@@@@@@@@@@%%%#####*#******+++++++++*****+****#@@@@@@@@@%#%#####**+****#*#%@@@@
//@@@@@@@@@@@%%@@@%%@@@@@@@@@@@@@@%%#######****+**+*+++=++=+*****++***#@@@@@@@@%%##%%###*++***#*##%@@@
//@@@@@@@@@@@@@%@@@%@@@@@@@@@@@@@%%%%###****#*++++=++====+++**********###%@@@@@@@%%%%%#****+**#%@@@@@@
//@@%@@@@@@@%@@%@@@@@@@@@@@@@@@@@%%%%####******++++=======+++*********##%#@@@@@@@@@%%%%#***#@@@@@@@@@@
//@@@@@@@@@%%#@%@@@@@@@@@@@@@@@@%%%#%####***++*++*+=========+*+++***####%%%@@@@@@@@@@%%##%@%@*%%@@@@@@
//@@@@@@@@@@@@@@@@@@@@%%%@@@@@@@%%%%######****+++++++========*++***#**###%%%@@@@@@@@@@@@@@%%%%%%%%%@@@
//@@@@@@@@@@@%%%%%#*##**#@@@@@@@%%####*###*#*++++++++++=+=++++******#####%#%%@@@@@@@@@@@@%%%##*####%%@